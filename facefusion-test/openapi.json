{"openapi":"3.1.0","info":{"title":"FaceFusion API","description":"\n    ## 🎭 FaceFusion Face Swap API\n    \n    べ、別にあんたのためじゃないけど、Face SwapができるAPIよ！\n    \n    ### 機能:\n    - 画像 Face Swap\n    - 動画 Face Swap  \n    - ファイルアップロード/ダウンロード\n    - システム情報取得\n    - CLI コマンド実行\n    \n    ### 使用方法:\n    1. ソース画像をアップロード\n    2. ターゲット画像/動画をアップロード\n    3. Face Swap実行\n    4. 結果をダウンロード\n    ","version":"1.0.0"},"paths":{"/api":{"get":{"tags":["情報"],"summary":"Api Info","description":"API情報","operationId":"api_info_api_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Api Info Api Get"}}}}}}},"/health":{"get":{"tags":["システム"],"summary":"Health Check","description":"ヘルスチェック","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/system/info":{"get":{"tags":["システム"],"summary":"Get System Info","description":"システム情報取得","operationId":"get_system_info_system_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemInfo"}}}}}}},"/models":{"get":{"tags":["モデル"],"summary":"Get Models","description":"利用可能なモデル一覧","operationId":"get_models_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelsInfo"}}}}}}},"/upload":{"post":{"tags":["ファイル"],"summary":"Upload File","description":"ファイルアップロード","operationId":"upload_file_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/face-swap/image":{"post":{"tags":["Face Swap"],"summary":"Face Swap Image","description":"画像Face Swap処理","operationId":"face_swap_image_face_swap_image_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_face_swap_image_face_swap_image_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceSwapResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/face-swap/video":{"post":{"tags":["Face Swap"],"summary":"Face Swap Video","description":"動画Face Swap処理","operationId":"face_swap_video_face_swap_video_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_face_swap_video_face_swap_video_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceSwapResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cli/face-swap":{"post":{"tags":["CLI"],"summary":"Cli Face Swap","description":"CLI形式でのFace Swap実行","operationId":"cli_face_swap_cli_face_swap_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CLIFaceSwapRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cli Face Swap Cli Face Swap Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/download/{filename}":{"get":{"tags":["ファイル"],"summary":"Download File","description":"ファイルダウンロード","operationId":"download_file_download__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cli-help":{"get":{"tags":["CLI"],"summary":"Cli Help","description":"CLI使用方法ヘルプ","operationId":"cli_help_cli_help_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"Body_face_swap_image_face_swap_image_post":{"properties":{"source_file":{"type":"string","format":"binary","title":"Source File","description":"ソース画像ファイル"},"target_file":{"type":"string","format":"binary","title":"Target File","description":"ターゲット画像ファイル"},"model":{"type":"string","title":"Model","description":"使用するモデル","default":"inswapper_128"},"quality":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Quality","description":"出力品質","default":90},"pixel_boost":{"type":"string","title":"Pixel Boost","description":"ピクセルブースト解像度","default":"128x128"}},"type":"object","required":["source_file","target_file"],"title":"Body_face_swap_image_face_swap_image_post"},"Body_face_swap_video_face_swap_video_post":{"properties":{"source_file":{"type":"string","format":"binary","title":"Source File","description":"ソース画像ファイル"},"target_file":{"type":"string","format":"binary","title":"Target File","description":"ターゲット動画ファイル"},"model":{"type":"string","title":"Model","description":"使用するモデル","default":"inswapper_128"},"quality":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Quality","description":"動画品質","default":80},"pixel_boost":{"type":"string","title":"Pixel Boost","description":"ピクセルブースト解像度","default":"128x128"},"trim_start":{"type":"integer","minimum":0.0,"title":"Trim Start","description":"開始フレーム","default":0},"trim_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Trim End","description":"終了フレーム"},"max_frames":{"type":"integer","maximum":200.0,"minimum":1.0,"title":"Max Frames","description":"最大フレーム数","default":50}},"type":"object","required":["source_file","target_file"],"title":"Body_face_swap_video_face_swap_video_post"},"Body_upload_file_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"アップロードするファイル（画像/動画）"}},"type":"object","required":["file"],"title":"Body_upload_file_upload_post"},"CLIFaceSwapRequest":{"properties":{"source_path":{"type":"string","title":"Source Path"},"target_path":{"type":"string","title":"Target Path"},"output_path":{"type":"string","title":"Output Path"},"processors":{"items":{"$ref":"#/components/schemas/ProcessorType"},"type":"array","title":"Processors","default":["face_swapper"]},"execution_providers":{"items":{"$ref":"#/components/schemas/ExecutionProvider"},"type":"array","title":"Execution Providers","default":["cuda"]},"face_swapper_model":{"type":"string","title":"Face Swapper Model","default":"inswapper_128"},"output_image_quality":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Output Image Quality","default":90},"output_video_quality":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Output Video Quality","default":80},"trim_frame_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Trim Frame Start"},"trim_frame_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Trim Frame End"},"log_level":{"type":"string","title":"Log Level","default":"info"}},"type":"object","required":["source_path","target_path","output_path"],"title":"CLIFaceSwapRequest","description":"CLIベースのFace Swapリクエスト"},"ExecutionProvider":{"type":"string","enum":["cpu","cuda","directml"],"title":"ExecutionProvider","description":"実行プロバイダー"},"FaceSwapResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"output_filename":{"type":"string","title":"Output Filename"},"file_size":{"type":"integer","title":"File Size"},"media_type":{"$ref":"#/components/schemas/MediaType"},"processing_time":{"type":"number","title":"Processing Time"},"model_used":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Used"},"quality":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quality"}},"type":"object","required":["success","output_filename","file_size","media_type","processing_time"],"title":"FaceSwapResponse","description":"Face Swapレスポンス"},"FileUploadResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"filename":{"type":"string","title":"Filename"},"file_path":{"type":"string","title":"File Path"},"file_size":{"type":"integer","title":"File Size"},"media_type":{"$ref":"#/components/schemas/MediaType"}},"type":"object","required":["success","filename","file_path","file_size","media_type"],"title":"FileUploadResponse","description":"ファイルアップロードレスポンス"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"facefusion_available":{"type":"boolean","title":"Facefusion Available"},"gpu_available":{"type":"boolean","title":"Gpu Available"},"cuda_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cuda Version"},"memory_usage":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Memory Usage"}},"type":"object","required":["status","version","facefusion_available","gpu_available"],"title":"HealthResponse","description":"ヘルスチェックレスポンス"},"MediaType":{"type":"string","enum":["image","video"],"title":"MediaType","description":"メディアタイプ"},"ModelsInfo":{"properties":{"available_models":{"items":{"type":"string"},"type":"array","title":"Available Models"},"default_model":{"type":"string","title":"Default Model"},"model_details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Model Details"}},"type":"object","required":["available_models","default_model"],"title":"ModelsInfo","description":"モデル情報"},"ProcessorType":{"type":"string","enum":["face_swapper","face_enhancer","frame_enhancer"],"title":"ProcessorType","description":"プロセッサータイプ"},"SystemInfo":{"properties":{"platform":{"type":"string","title":"Platform"},"python_version":{"type":"string","title":"Python Version"},"torch_version":{"type":"string","title":"Torch Version"},"cuda_available":{"type":"boolean","title":"Cuda Available"},"cuda_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cuda Version"},"gpu_count":{"type":"integer","title":"Gpu Count","default":0},"gpu_names":{"items":{"type":"string"},"type":"array","title":"Gpu Names","default":[]},"memory_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Memory Total"},"memory_available":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Memory Available"}},"type":"object","required":["platform","python_version","torch_version","cuda_available"],"title":"SystemInfo","description":"システム情報"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}